import{t as ie,g as ue,y as re}from"./checkout.047f7221.js";import{d as A,u as j,a as ce,f as H,A as P,e as X,O as G,o as y,l as L,F,P as D,B as _,s as C,C as g,Q as de,M as Y,v as K,a2 as Z,n as J,w as U,D as V,m as T,H as ee,a5 as z,L as te,N as ne,h,av as q,q as M,ad as W,a4 as N,a6 as O,cI as pe,E as ae,t as oe,cJ as le,bU as _e,at as ve,b as se,ab as E,x as me,b9 as Q,cK as B,ba as fe,cL as ge,cM as he,b8 as ye,X as be,cN as xe,ae as ke,aJ as $e,bv as Le,ap as we}from"./buyer.bdd9e512.js";import{g as Se}from"./entry.2e65dfc2.js";const Ie=["onClick"],Ce=["src","alt"],Ve=A({__name:"index",setup(a){const{t:o}=j();ce();const e=H(),t=P(),c=X(),s=[{img:ie,key:G.twitter},{img:ue,key:G.google}];function i(m){const b=window.location.origin+"/login";de({openType:m.key,tenantId:e.tenantId,redirectUrl:b}).then(d=>{if(d.error.value){Y({message:o("common.cannot-connect"),type:"error"});return}d.data.value&&(window.localStorage.setItem("login_query",JSON.stringify(c.query)),location.href=d.data.value)})}return(m,b)=>(y(),L("div",{class:C(["social-list",{mobile:g(t).isMobile}])},[(y(),L(F,null,D(s,d=>_("div",{key:d.key,class:"social-item",onClick:f=>i(d)},[_("img",{src:d.img,alt:d.key},null,8,Ce)],8,Ie)),64))],2))}});const Te=K(Ve,[["__scopeId","data-v-1138058d"]]),Be={class:"login-dialog"},Ne={class:"title"},Me={class:"login-label"},Ae={class:"login-wrap"},Ke={class:"login-label"},Oe={class:"login-wrap"},Ee=A({__name:"index",props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(a,{emit:o}){const e=a,t=P();function c(){o("close")}const s=Z();function i(){c(),t.isMobile?location.href=z("/login")+`?redirectUrl=${location.pathname}${location.search}`:s.push(z("/login"))}return(m,b)=>{const d=re,f=Te,x=te,v=ne;return y(),J(v,{class:C(["login-dialog-wrap",{mobile:g(t).isMobile}]),visible:e.visible,onClose:c},{default:U(()=>[_("div",Be,[_("div",Ne,V(m.$t("login-page.sign-account")),1),_("div",Me,V(m.$t("login-page.web3-login")),1),_("div",Ae,[T(d)]),_("div",Ke,V(m.$t("login-page.social-login")),1),_("div",Oe,[T(f,{class:"social-login"})]),T(x,{class:"login-button",onClick:i,plain:""},{default:U(()=>[ee(V(m.$t("login-page.sign-register-email")),1)]),_:1})])]),_:1},8,["visible","class"])}}});const ft=K(Ee,[["__scopeId","data-v-9499ec43"]]),Pe={class:"input-box"},Re=["aria-label","disabled","readonly","id","type"],Ue={key:1,class:"eye-box"},Fe=A({__name:"index",props:{errorTip:{type:String,default:""},inputValue:{type:[String,Number],default:""},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},limitLength:{type:Number,default:0},type:{type:String,default:""},prefixIcon:{type:String,default:""},disabled:{type:Boolean,default:!1},ariaLabel:{type:String,default:""},readonly:{type:Boolean,default:!1},id:{type:String}},emits:["update:inputValue","update:errorTip","inputBlur","inputKeyup","change","inputKeyDown","input"],setup(a,{emit:o}){const e=a,t=h("");q(()=>e.inputValue!=null?e.inputValue:"",u=>{t.value!==u+""&&(t.value=u+"")},{immediate:!0});const c=h(!1),s=h(!1);function i(){s.value=!s.value}function m(){c.value=!1,o("inputBlur")}function b(){c.value=!0,o("update:errorTip","")}function d(){e.limitLength&&(t.value=t.value.slice(0,e.limitLength)),o("update:inputValue",t.value),o("inputKeyup")}function f(){o("update:inputValue",t.value),o("input")}function x(u){o("inputKeyDown",u)}function v(){t.value=t.value.trim()}return(u,k)=>{const S=oe,I=le;return y(),L("div",{class:C(["input-wrapper",{error:e.errorTip,"input-active":g(c),disabledStyle:a.disabled}])},[e.prefixIcon?(y(),J(S,{key:0,class:"prefix-icon",name:e.prefixIcon},null,8,["name"])):M("",!0),W(u.$slots,"input-prefix",{},void 0,!0),_("div",Pe,[N(_("span",{class:C([{required:e.required},"placeholder"])},V(e.placeholder),3),[[O,!g(t)]]),N(_("input",{"aria-label":e.ariaLabel,disabled:a.disabled,readonly:e.readonly,id:e.id,type:e.type&&!g(s)?e.type:"text",class:"inner-input","onUpdate:modelValue":k[0]||(k[0]=w=>ae(t)?t.value=w:null),onBlur:m,onFocus:b,onKeyup:d,onKeydown:k[1]||(k[1]=w=>x(w)),onInput:f,onChange:v},null,40,Re),[[pe,g(t)]])]),W(u.$slots,"input-afterfix",{},void 0,!0),e.type==="password"?(y(),L("div",Ue,[N(T(S,{onClick:i,class:"eye-icon",name:"eye"},null,512),[[O,g(s)]]),N(T(S,{onClick:i,class:"eye-icon",name:"eye-close"},null,512),[[O,!g(s)]])])):M("",!0),T(I,{"error-msg":e.errorTip},null,8,["error-msg"])],2)}}});const gt=K(Fe,[["__scopeId","data-v-b04e3e09"]]),De=_e("search",{state:()=>({searchKeyword:""}),getters:{},actions:{changeSearchKeyword(a){this.searchKeyword=a}}}),ht=De;function yt(){const a=ve();se();const o=H(),e=P(),t=E(()=>a.languageList),c=E(()=>a.countryList),s=E(()=>a.currencyList),i=h(-1),m=h(""),b=X();Z();function d(v,u){let k=a.language.index,S="";const{firstRouteName:I,secondRouteName:w}=Se(b.params.route);v!==k&&(v===-1?(a.removeLanguage(),Q(),I&&w?window.location.href="https://"+o.domain+"/"+I+"/"+w:I&&!w?window.location.href="https://"+o.domain+"/"+I:window.location.href="https://"+o.domain):[B.fr,B.de,B.it,B.es,B.ru,B.ar,B.ja,B.th,B.id].includes(v)?(a.setLanguage(u),Q(),location.pathname.indexOf(e.lang)===1?S=location.pathname.replace(e.lang,u.id):S="/"+u.id+location.pathname+location.search,window.location.href="https://"+o.domain+S+location.search):(a.setLanguage(u),fe(v)))}function f(v,u){let k=a.currency.id;v!==k&&(a.setCurrency(u),location.reload())}function x(){i.value=a.language.index,m.value=a.currency.id}return me(()=>{x()}),{language:i,currency:m,languageList:t,countryList:c,currencyList:s,languageChange:d,currencyChange:f,initData:x}}const qe={class:"avatar-list-wrapper"},ze={class:"avatar-list-title"},je={style:{width:"420px"}},He={class:"avatar-list"},Je=["onClick"],Ge=["src"],We=A({__name:"index",props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(a,{emit:o}){const e=a,{t}=j();P();const c=se(),s=h([]),i=h(""),m=h(!0);q(()=>e.visible,v=>{v&&!s.value.length&&d()});function b(){o("close")}function d(){c.useInfo.id&&ge().then(v=>{if(v.data.value){let u=v.data.value;u&&u.length>0&&he({fileIds:u}).then(k=>{k.data.value&&(s.value=k.data.value,m.value=!1)})}})}function f(v){i.value=v.id}function x(){ye({avatar:i.value}).then(v=>{v.error.value||(Y({message:t("common.modifiable-success")}),c.initUserInfo(),o("close"))})}return(v,u)=>{const k=be,S=te,I=ne;return y(),J(I,{class:"avatar-list-dialog",visible:e.visible,onClose:b},{default:U(()=>[_("div",qe,[_("div",ze,V(v.$t("mall.choose-avatar")),1),N(_("div",je,[T(k,{style:{width:"60px",height:"60px",margin:"0 auto"}})],512),[[O,g(m)]]),N(_("div",He,[(y(!0),L(F,null,D(g(s),w=>(y(),L("div",{class:C(["avatar-item",{active:g(i)===w.id}]),key:w.id,onClick:R=>f(w)},[_("img",{loading:"lazy",class:"avatar-item-img",src:w.fileUrl,alt:""},null,8,Ge)],10,Je))),128))],512),[[O,!g(m)]]),T(S,{class:"confirm-selection-button",onClick:x},{default:U(()=>[ee(V(v.$t("mall.confirm-selection")),1)]),_:1})])]),_:1},8,["visible"])}}});const bt=K(We,[["__scopeId","data-v-9a09a170"]]),Qe={key:1,class:"no-input"},Xe={key:2,class:"no-input"},Ye=A({__name:"index",props:{modelValue:{type:Number,default:0},range:{type:Object,default:()=>({min:0,max:void 0})},disabled:{type:Boolean,default:!1},noInput:{type:Boolean,default:!1},inputWidth:{type:Number,default:100},horizontalFilling:{type:Boolean,default:!1}},emits:["update:modelValue","change","beforeAdd"],setup(a,{emit:o}){const e=a,t=h(1);q(()=>e.modelValue,l=>{t.value=l},{immediate:!0});const c=h(!1);function s(){c.value=!1}function i(){c.value=!0}function m(){let l=!0;o("beforeAdd",()=>{l=!1}),l&&(t.value=Number(t.value)+1,e.range.max&&t.value>e.range.max&&(t.value=e.range.max),o("update:modelValue",t.value),o("change",t.value))}function b(){t.value=Number(t.value)-1,e.range.min!==void 0&&t.value<e.range.min&&(t.value=e.range.min),o("update:modelValue",t.value),o("change",t.value)}function d(){t.value=(t.value+"").replace(/[^\d]/g,""),t.value[0]==="0"&&t.value[1]&&(t.value=t.value.slice(1)),e.range.min!==void 0&&Number(t.value)<e.range.min&&(t.value=e.range.min),e.range.max&&Number(t.value)>e.range.max&&(t.value=e.range.max),o("update:modelValue",Number(t.value)),o("change",t.value)}let f=null,x=null;function v(l){e.disabled||l.button===0&&(u(),x=setTimeout(()=>{f=setInterval(()=>{m()},100)},1e3))}function u(){clearInterval(f),clearTimeout(x),f=null,x=null}function k(l){e.disabled||l.button===0&&(u(),x=setTimeout(()=>{f=setInterval(()=>{b()},100)},1e3))}function S(){e.disabled||(f||m(),(f||x)&&u())}function I(){e.disabled||(f||b(),(f||x)&&u())}function w(){e.disabled||(u(),x=setTimeout(()=>{f=setInterval(()=>{m()},100)},1e3))}function R(){e.disabled||(u(),x=setTimeout(()=>{f=setInterval(()=>{b()},100)},1e3))}return(l,n)=>{const p=oe;return y(),L("div",{class:C(["number-input-container",{disabled:a.disabled,"horizontal-filling":e.horizontalFilling}])},[_("button",{"aria-label":"minus-sign",class:C(["button-wrapper reduction-button",{disabled:e.range.min&&g(t)<=e.range.min}]),onClick:I,onMousedown:n[0]||(n[0]=r=>k(r)),onMouseleave:u,onTouchstart:R,onTouchmove:u,onTouchend:u},[T(p,{class:"num-icon",name:"minus-sign"})],34),_("div",{class:C(["number-input-wrapper",{"input-focus":g(c)}]),style:ke({width:a.inputWidth+"px"})},[!e.disabled&&!e.noInput?N((y(),L("input",{key:0,"onUpdate:modelValue":n[1]||(n[1]=r=>ae(t)?t.value=r:null),class:"number-input",type:"text",onKeyup:d,onBlur:s,onFocus:i},null,544)),[[xe,g(t)]]):M("",!0),!e.disabled&&e.noInput?(y(),L("p",Qe,V(g(t)),1)):M("",!0),e.disabled?(y(),L("p",Xe,"0")):M("",!0)],6),_("button",{"aria-label":"plus-sign",class:C(["button-wrapper add-button",{disabled:e.range.max&&g(t)>=e.range.max}]),ref:"addButton",role:"button",onClick:S,onMousedown:n[2]||(n[2]=r=>v(r)),onMouseleave:u,onTouchstart:w,onTouchend:u,onTouchmove:u},[T(p,{class:"num-icon",name:"add-sign"})],34)],2)}}});const xt=K(Ye,[["__scopeId","data-v-27993f45"]]),Ze={class:"radio-list"},et=["onClick"],tt=A({__name:"index",props:{errorTip:{type:String,default:""},radioList:{type:Array,default:()=>[]},modelValue:{type:String,default:""},optionalList:{type:Array,default:()=>[]}},emits:["update:modelValue","change"],setup(a,{emit:o}){const e=a,t=h("");q(()=>e.modelValue,i=>{t.value=i},{immediate:!0});function c(i){t.value===i.value?(t.value="",o("update:modelValue",""),o("change","")):e.optionalList.indexOf(i.value)>-1&&(t.value=i.value||"",o("update:modelValue",i.value),o("change",i.value))}function s(i){return e.optionalList&&e.optionalList.length&&e.optionalList.indexOf(i.value)<0}return(i,m)=>{const b=le;return y(),L("div",Ze,[(y(!0),L(F,null,D(e.radioList,d=>(y(),L("div",{class:C(["radio-item",{active:g(t)===d.value,disabled:s(d)}]),key:d.value,onClick:f=>c(d)},V(d.label),11,et))),128)),T(b,{"error-msg":e.errorTip},null,8,["error-msg"])])}}});const kt=K(tt,[["__scopeId","data-v-cc45a6e0"]]);function $t(){const a=h([]),o=h({}),e=h({}),t=h({}),c=h({}),s=h({}),i=h(1);function m(l){o.value={},a.value=l.map(n=>{let p=[];return n.values&&n.values.length&&(p=n.values.map(r=>({label:r,value:r}))),o.value[n.key]="",{...n,optionalList:[],list:p}})}function b(l){let n="";for(let p=0;p<a.value.length;p++){let r=a.value[p];n+=`${r.key}:${l[r.key]};`}return n}function d(l){a.value.forEach(n=>{n.values&&n.values.length&&n.values.forEach(p=>{e.value[`${n.key}:${p}`]={}})}),l.forEach(n=>{for(const p in n){let r=`${p}:${n[p]}`;for(const $ in n)$!==p&&e.value[r]&&(e.value[r][$]?e.value[r][$].indexOf(n[$])<0&&e.value[r][$].push(n[$]):e.value[r][$]=[n[$]])}})}function f(l){if(l&&l.length){let n={},p=[];l.forEach(r=>{let $=b(r.productSkuAttrMap);$&&(n[$]=r),p.push(r.productSkuAttrMap)}),t.value=n,d(p)}}function x(l){return l.reduce((n,p)=>n.filter(r=>p.includes(r)))}function v(){let l=b(c.value);s.value=t.value[l]||{},(s.value.maxLimit&&i.value>s.value.maxLimit||s.value.minLimit&&i.value<s.value.minLimit)&&(i.value=s.value.minLimit||1),a.value.forEach(n=>{let p=[];a.value.forEach(r=>{if(r.key!==n.key&&c.value[r.key]){let $=e.value[`${r.key}:${c.value[r.key]}`];$&&p.push($[n.key])}}),n.optionalList=p.length?x(p):n.list.map(r=>r.value)})}function u(l){c.value[l.key]&&(o.value[l.key]=""),v()}const k=h("-");function S(l){if(l&&l.length){let n=Number(l[0].price),p=Number(l[0].price);l.forEach(r=>{let $=Number(r.price);$<n&&(n=$),$>p&&(p=$)}),n===p?k.value=n+"":k.value=`${n} ~ ${p}`}}const I=E(()=>s.value.id?$e(Number(s.value.price),i.value).text:k.value);function w(l){l.productSpuAttrs&&l.productSpuAttrs.length?(S(l.productSkus),m(l.productSpuAttrs),f(l.productSkus),a.value.forEach(n=>{c.value[n.key]=l.productSkus[0].productSkuAttrMap[n.key]}),v()):(a.value=[],s.value=l.productSkus[0]||{},i.value=s.value.minLimit||1)}const R=E(()=>!s.value.maxLimit||s.value.stock<s.value.maxLimit?s.value.stock:s.value.maxLimit);return{specList:a,specErrorTip:o,skuOptionalData:e,skuDataObj:t,skuModelObj:c,skuData:s,productNum:i,productPrice:I,getMinMaxPrice:S,skuChange:v,skuItemChange:u,initProductSpec:w,maxLimit:R}}const Lt=""+new URL("IGVlogo-igv.ac86fc45.svg",import.meta.url).href;function wt(){return Le().public.seller_url}const nt={class:"checkout-header-wrapper"},at={class:"checkout-header-left"},ot=["href"],lt=["src"],st=_("div",{class:"split-up-line"},null,-1),it={class:"secure-checkout"},ut={class:"num-progress"},rt={key:0,class:"num-progress-line"},ct={class:"progress-info"},dt={class:"progress-num"},pt={class:"progress-label"},St=A({__name:"index",setup(a){const o=H(),e=P(),t=we(),{t:c}=j(),s=h([{label:c("mall.Shopping"),num:1},{label:c("mall.Payment"),num:2},{label:c("mall.delivery"),num:3}]),i=h(2);return(m,b)=>g(t).isCheckoutHideIGV?M("",!0):(y(),L("header",{key:0,class:C(["checkout-header",{mobile:g(e).isMobile}])},[_("div",nt,[_("div",at,[_("a",{href:g(z)("/"),"aria-label":"logo"},[_("img",{class:"logo",src:g(o).logo,alt:"logo",width:"180",height:"45"},null,8,lt)],8,ot),st,_("div",it,V(m.$t("mall.secure-checkout")),1)]),_("div",ut,[(y(!0),L(F,null,D(g(s),(d,f)=>(y(),L("div",{class:C(["num-progress-item",{active:d.num<=g(i)}])},[f!==0?(y(),L("div",rt)):M("",!0),_("div",ct,[_("div",dt,V(d.num),1),_("div",pt,V(d.label),1)])],2))),256))])])],2))}});export{ft as _,gt as a,yt as b,bt as c,$t as d,kt as e,xt as f,wt as g,Lt as h,St as i,ht as u};
